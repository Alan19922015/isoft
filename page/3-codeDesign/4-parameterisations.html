<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
   <meta name="description" content="Ice Shelf/Ocean Fluid- and Thermodynamics: a suite of tools and programs to use for simulating the evolution of ice shelves interacting with the ocean.">
    
    <meta name="author" content="Chris MacMackin" >
    <link rel="icon" href="../../favicon.png">

    <title>Parameterisations and Boundary Conditions &ndash; ISOFT</title>

    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/pygments.css" rel="stylesheet">
    <link href="../../css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/local.css" rel="stylesheet">
    
    <link  href="../../tipuesearch/tipuesearch.css" rel="stylesheet">
    
    

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="../../js/jquery-2.1.3.min.js"></script>
    <script src="../../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../index.html">ISOFT </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
        
            <li><a href='../../page/index.html'>Documentation</a></li>
      
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
     aria-expanded="false">Contents <span class="caret"></span></a>
        <ul class="dropdown-menu">
          
              
            <li><a href="../../lists/files.html">Source Files</a></li>
        
        
        
            <li><a href="../../lists/modules.html">Modules</a></li>
        
            
                                
            <li><a href="../../lists/procedures.html">Procedures</a></li>
        
        
            <li><a href="../../lists/absint.html">Abstract Interfaces</a></li>
               
            <li><a href="../../lists/types.html">Derived Types</a></li>
        
        
            </ul>
            </li>


<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/files.html">Source Files</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/modules.html">Modules</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/procedures.html">Procedures</a></li>


<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/absint.html">Abstract Interfaces</a></li>
                             
<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/types.html">Derived Types</a></li>


          </ul>
        
        <form action="../../search.html" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
        </div>
<!--
        <button type="submit" class="btn btn-default">Submit</button>
-->
        </form>
        
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
    
  <div class="row">
    <h1>Parameterisations and Boundary Conditions</h1>
    <div class="row">
    <div class="col-lg-12">
    <div class="well well-sm" style="min-height: 40px;">
      <ul class="list-inline" style="margin-bottom:0px; display:inline">
         
        <li><i class="fa fa-pencil"></i> Chris MacMackin</li>
         
         
        <li><i class="fa fa-calendar-o"></i> November 2018</li>
         
<!--
        
-->
      </ul>
        <ol class="breadcrumb in-well">
      
         <li><a href='../../page/index.html'>Documentation</a></li>
      
         <li><a href='../../page/3-codeDesign/index.html'>Code Design</a></li>
      
         <li class="active">Parameterisations and Boundary Conditions</li>
      </ol>
    </div>
    </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-9 col-md-push-3" id='text'>
      <p>One of the goals of ISOFT is to allow choices of parameterisations to
easily be changed. This is achieved using the <span
style="font-variant:small-caps;">Strategy</span> pattern
<a href="../6-bibliog.html#Rouson2014">(Rouson, Xia, and Xu, 2014, Chapter 7)</a>,
which provides a common abstract interface to accomplish some task,
with subtypes implementing different strategies to do so. In ISOFT,
the methods in the abstract types were generally given a large number
of arguments, to ensure sufficient information is available for all
potential parameterisations. Parameter and coefficient values can be
specified for each parameterisation when initialising its object.</p>
<p>The only parameterisation for the ice shelf is viscosity. The general
interface is provided by the <a href="../../type/abstract_viscosity.html">abstract_viscosity</a> type. It’s subtypes
are <a href="../../type/newtonian_viscosity.html">newtonian_viscosity</a>, which returns a <code>uniform_field</code> all
cases, and <a href="../../type/glens_law_viscosity.html">glens_law_viscosity</a> which calculates the viscosity from
the ice velocity as described in <a href="../2-numerics/1-equations.html#mjx-eqn-eqglens-nd">equation 5</a>. Currently Glen’s law is
only implemented for the 1-D case, as attempting to implement it for
higher dimensions resulted in a compiler bug. A class diagram is provided below.</p>
<p><img alt="A UML class diagram for the viscosity type. Subtypes implement all
inherited abstract methods, but this is not shown for reasons of
space." src="../../media/viscosity.png"></p>
<p>The plume contains a few parameterisations. The subtypes of
<a href="../../type/abstract_entrainment.html">abstract_entrainment</a> calculate an entrainment rate for the
plume. These are <a href="../../type/jenkins1991_entrainment.html">jenkins1991_entrainment</a> and
<a href="../../type/kochergin1987_entrainment.html">kochergin1987_entrainment</a>, implementing
<a href="../2-numerics/1-equations.html#mjx-eqn-eqentrainment-jenkins-nd">equations 14</a>
and
<a href="../2-numerics/1-equations.html#mjx-eqn-eqentrainment-koch-nd">15</a>,
respectively.  The <a href="../../type/abstract_melt_relationship.html">abstract_melt_relationship</a> provides an
interface for calculating the melt rate of the ice, in addition to the
heat and salt fluxes resulting from melting. The one equation
approximation of
<a href="../2-numerics/1-equations.html#mjx-eqn-eqmelt-nondim">equation 17</a>
was implemented as <a href="../../type/one_equation_melt.html">one_equation_melt</a>. A variation of this
was implemented as <a href="../../type/ave_one_equation_melt.html">ave_one_equation_melt</a>, implementing the
horizontally-averaged version of the one equation formulation found in
<a href="../2-numerics/6-horzint.html#mjx-eqn-eqhorz-melt">equations 48 and 49</a>.
The subtype <a href="../../type/dallaston2015_melt.html">dallaston2015_melt</a> provides a way
to convert from the scaling choices used by
<a href="../bibliog.html#Dallaston2015">Dallaston, Hewitt, and Wells (2015)</a>
to those used in ISOFT, which was useful for writing unit
tests. Finally, the abstract type <a href="../../type/equation_of_state.html">equation_of_state</a> sets out
the interface for calculating the density of water from salinity and
temperature. Subtype <a href="../../type/linear_eos.html">linear_eos</a> implements the linearised
equation of state in
<a href="../2-numerics/1-equations.html#mjx-eqn-eqlin-eos">equation 20</a>. The
related <a href="../../type/ave_linear_eos.html">ave_linear_eos</a> provides additional methods methods for
calculating <script type="math/tex">\overline{\rho}</script> and <script type="math/tex">\tilde{\rho}</script>, as defined in
<a href="6-horzint.html#mjx-eqn-eqrho-bar">equations 46 and 47</a>, respectively.
Last, the subtype <a href="../../type/prescribed_eos.html">prescribed_eos</a>
calculates the density assuming no dependence on temperature and using
a prescribed salinity profile; this is also useful in unit
tests. Class diagrams for each set of derived types are provided
below.</p>
<p><img alt="A UML class diagram for the entrainment type. Subtypes implement the
inherited abstract method, but this is not shown for reasons of
space." src="../../media/entrainment.png"></p>
<p><img alt="A UML class diagram for the melt type. Subtypes implement the
inherited abstract method, but this is not shown for reasons of
space." src="../../media/melt.png"></p>
<p><img alt="A UML class diagram for the equation of state type. Subtypes implement
all inherited abstract methods, but this is not shown for reasons of
space." src="../../media/eos.png"></p>
<p>A similar approach was taken for boundary conditions and ambient ocean
properties. The types <a href="../../type/glacier_boundary.html">glacier_boundary</a> and
<a href="../../type/plume_boundary.html">plume_boundary</a> (class diagrams below) provide interfaces for
identifying the types of boundary conditions at different locations
and determining the appropriate values. The default implementations
effectively do not specify boundary conditions and the methods must be
overridden to be useful. The interface provided by
<a href="../../type/plume_boundary.html">plume_boundary</a> is quite different from that provided by
<a href="../../type/glacier_boundary.html">glacier_boundary</a>. The latter should ideally be refactored to
be closer to the more usable interface provided by the former. The
subtypes for <a href="../../type/glacier_boundary.html">glacier_boundary</a> are
<a href="../../type/dallaston2015_glacier_boundary.html">dallaston2015_glacier_boundary</a>, which prescribes a
time-independent ice thickness and velocity at the grounding line and
a balance between normal stress and hydrostatic pressure at the
calving front, and <a href="../../type/seasonal_glacier_boundary.html">seasonal_glacier_boundary</a>, which modifies
introduces sinusoidal or square-wave variation to the grounding line
velocity.</p>
<p><img alt="A UML class diagram for the glacier boundary type. Subtypes implement
all inherited abstract methods, but this is not shown for reasons of
space." src="../../media/icebound.png"></p>
<p><img alt="A UML class diagram for the plume boundary type. Subtypes implement
all inherited abstract methods, but this is not shown for reasons of
space." src="../../media/plumebound.png"></p>
<p>The first subtype of <a href="../../type/plume_boundary.html">plume_boundary</a> is
<a href="../../type/simple_plume_boundary.html">simple_plume_boundary</a>, which implements Dirichlet boundary
conditions at the grounding line and Neumann conditions (zero
gradient) for velocity, salinity, and temperature at the calving
front.  Closely related to this type is
<a href="../../type/dallaston2015_seasonal_boundary.html">dallaston2015_seasonal_boundary</a>, which modifies the boundary
conditions by sinusoidally perturbing the plume thickness and velocity
at the grounding line. The type which was ultimately used in all
simulations was <a href="../../type/upstream_plume_boundary.html">upstream_plume_boundary</a>.  This takes a
user-provided function which specifies the inflow value of each plume
variable and then, assuming no diffusion, integrates the plume a small
distance upstream along the current basal draft of the ice shelf using
<a href="../../module/rksuite_90.html">rksuite_90</a>
<a href="../6-bibliog.html#Brankin1994">(Brankin and Gladwell, 1994)</a>. This
allows the plume solver itself to avoid handling narrow boundary
layers where the plume salinity and temperature change
rapidly. Outflow conditions remain unchanged. Ambient ocean conditions
are described according to the interface defined by the abstract type
<a href="../../type/ambient_conditions.html">ambient_conditions</a>. As shown in the class diagram below, at
present only one implementation is provided
(<a href="../../type/uniform_ambient_conditions.html">uniform_ambient_conditions</a>), specifying constant ambient
salinity and temperature.</p>
<p><img alt="A UML class diagram of the ambient conditions type. The subtype
implements all inherited abstract methods, but this is not shown for
reasons of space." src="../../media/ambient.png"></p>
    </div>
    
    <div class="col-md-3 col-md-pull-9">
      <hr class="visible-xs visible-sm">
        <div class="well toc">
          <ul class="nav nav-stacked nav-pills">
            <li role="presentation" class="title"><a href='../../page/index.html'>Documentation</a></li>
          </ul>
          <hr>
          <ul class="nav nav-stacked nav-pills">
            
            <li role="presentation">
            <a href='../../page/1-running/index.html'>Using ISOFT</a>
            
            <ul class="nav nav-stacked nav-pills">
              
            <li role="presentation">
            <a href='../../page/1-running/1-build.html'>Compiling the Code</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/1-running/2-writing.html'>Writing Software Using the ISOFT Framework</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/1-running/3-compile.html'>Linking to the Library</a>
            
            </li>
            
            </ul>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/2-numerics/index.html'>Numerical Methods</a>
            
            <ul class="nav nav-stacked nav-pills">
              
            <li role="presentation">
            <a href='../../page/2-numerics/1-equations.html'>Shelf/Plume Equations</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/2-numerics/2-spatial.html'>Spatial Discretisation</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/2-numerics/3-shelf-solver.html'>Shelf Solver</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/2-numerics/4-plume-solver.html'>Plume Solver</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/2-numerics/5-benchmarking.html'>Testing and Benchmarking</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/2-numerics/6-horzint.html'>Horizontally-Integrated Plume Equations</a>
            
            </li>
            
            </ul>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/3-codeDesign/index.html'>Code Design</a>
            
            <ul class="nav nav-stacked nav-pills">
              
            <li role="presentation">
            <a href='../../page/3-codeDesign/1-representing.html'>Representing the Coupled Ice Shelf/Plume</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/3-codeDesign/2-discretisation.html'>Discretisation</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/3-codeDesign/3-solvers.html'>Nonlinear Solvers</a>
            
            </li>
            
            <li role="presentation" class="disabled">
            <a href='../../page/3-codeDesign/4-parameterisations.html'>Parameterisations and Boundary Conditions</a>
            
            </li>
            
            </ul>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/4-plotting/index.html'>Plotting ISOFT Output</a>
            
            <ul class="nav nav-stacked nav-pills">
              
            <li role="presentation">
            <a href='../../page/4-plotting/1-readers.html'>Reader Objects</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/4-plotting/3-tools.html'>General Plotting Tools</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/4-plotting/5-layers.html'>Plotting Internal Layers</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/4-plotting/6-scripts.html'>Provided Plotting Scripts</a>
            
            </li>
            
            </ul>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/./6-bibliog.html'>Bibliography</a>
            
            </li>
            
          </ul>
        </div>
    </div>
    
  </div>

    <hr>    
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-4"><p>&copy; 2018 
                                          </p></div>
        <div class="col-xs-6 col-md-4 col-md-push-4">
          <p class="text-right">
            Documentation generated by 
            <a href="https://github.com/cmacmackin/ford">FORD</a>
            
          </p>
        </div>
        <div class="col-xs-12 col-md-4 col-md-pull-4"><p class="text-center"> ISOFT was developed by Chris MacMackin</p></div>
      </div>
      <br>
      </div> <!-- /container -->    
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="../../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
      });
    </script>
    
    <script src="../../js/MathJax-config/mj-config.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    
    <script src="../../tipuesearch/tipuesearch_content.js"></script>
    <script src="../../tipuesearch/tipuesearch_set.js"></script>
    <script src="../../tipuesearch/tipuesearch.js"></script>
    
    
  </body>
</html>